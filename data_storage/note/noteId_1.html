<!-- We gonna do style and script here -->
<style>
    .noteSetting {
        /* == Note Content Setting == */
        --font-size-x-small: 0.85rem;
        --font-size-small: 0.9rem;
        --font-size-medium: 1.2rem;
        --font-size-large: 1.5rem;
        --font-size-x-large: 1.8rem;

        .content {
            font-family: var(--font-family);
            font-size: var(--font-size-small);
        }

        .noteContent {
            font-size: var(--font-size-medium);
        }

        .title {
            font-family: var(--font-family-special);
            font-size: var(--font-size-medium);
        }

        .imageWindow {
            max-height: 300px;
            overflow: hidden;

            img {
                object-fit: contain;
                object-position: 0 -100px;
                width: 100%;
            }
        }
    }
</style>

<div class="noteContent noteSetting" contenteditable="false;">
    <div class="title">
        <h1>${title}</h1>
        <h2>${date}</h2>
        <hr>
    </div>

    <div id="windowPopupElement" class="imageWindow">
        <img src="../img/background/building.jpg" alt="Image">
    </div>

    <div class="content">
        <p>Original content here... Hi, i'm Danny</p>
    </div>

    <div id="windowPopup">
        <div class="windowPopup_header">
            <div class="windowPopup_header_name">
                <p>[ Image ]</p>
            </div>
            <div class="windowPopup_header_action">
                <img id="windowPopup_btn_close" class="svg" src="svg/close-btn.svg" alt="Close">
            </div>
        </div>
        <div class="windowPopup_main">
            <p>hi</p>
        </div>

    </div>
</div>

<script async type="module">
    import { windowElement, dragElement, popupElement } from "../../js/desktop.js";
    await console.log("ping");
    await scriptsLoadOrder();

    async function scriptsLoadOrder() {
        await initializeWindowPopup();
    };

    async function initializeWindowPopup() {
        // initialize window
        const windowPopup = document.querySelector("#windowPopup")
        const {
            element: element,
            header: header,
            header_action: header_action
        } = await windowElement(windowPopup)

        popupElement(element, header_action)
        dragElement(element, header)
    };
</script>